<link rel="import" href="../../bower_components/polymer/polymer.html">

<script src="https://rawgithub.com/joewalnes/reconnecting-websocket/master/reconnecting-websocket.js"></script>

<polymer-element name="ztop-web-socket" attributes="data">
  <script>
    Polymer('ztop-web-socket', {
      data: [],
      onMessage: function(event) {
        this.data = JSON.parse(event.data);
      },
      ready: function() {
        this.socket = new ReconnectingWebSocket('ws://localhost:9000');
        this.socket.onmessage = this.onMessage.bind(this);
      }
    });
  </script>
</polymer-element>
